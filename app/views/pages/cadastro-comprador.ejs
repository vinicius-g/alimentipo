<!DOCTYPE html>
<html lang="pt-br">

<head>
    <%- include("../templates/head.ejs") %>
    <link rel="stylesheet" href="/css/cadastro-comprador.css">
    <script src="/js/formulario-imagem.js" defer></script>

    <title><%- data.page_name %></title>
</head>

<body>
    <%- data.usuarioLogado ? include("../templates/header-cadastrado.ejs") : include("../templates/header.ejs") %>

    <main>
        <h1>Cadastre-se</h1>

        <div class="alterar-cadastro">
            <a href="/cadastro-comprador" class="ativo">
                Cadastro Comprador
            </a>

            <a href="/cadastro-vendedor">
                Cadastro Vendedor
            </a>
        </div>

        <h2>Cadastro de comprador</h2>

        <form action="/cadastro-comprador" method="post" enctype="multipart/form-data" id="cadastro-comprador">
            <%- data.errors && data.errors.sistema_error ? `<span class='error-message'>${data.errors.sistema_error.msg}</span>` : "" %>

            <input type="text" name="nome" placeholder="Nome Completo" <%- data.input_values ? `value="${data.input_values.nome}"` : "" %> <%- data.errors && data.errors.nome_error ? `class="error"` : "" %>>

            <%- data.errors && data.errors.nome_error ? `<span class='error-message'>${data.errors.nome_error.msg}</span>` : "" %>

            <input type="text" name="nome_usuario" placeholder="Nome de usúario" <%- data.input_values ? `value="${data.input_values.nome_usuario}"` : "" %> <%- data.errors && data.errors.nome_usuario_error ? `class="error"` : "" %>>

            <%- data.errors && data.errors.nome_usuario_error ? `<span class='error-message'>${data.errors.nome_usuario_error.msg}</span>` : "" %>

            <input type="email" name="email" placeholder="E-mail" <%- data.input_values ? `value="${data.input_values.email}"` : "" %> <%- data.errors && data.errors.email_error ? `class="error"` : "" %>>

            <%- data.errors && data.errors.email_error ? `<span class='error-message'>${data.errors.email_error.msg}</span>` : "" %>

            <input type="password" name="senha" placeholder="Senha" <%- data.input_values ? `value="${data.input_values.senha}"` : "" %> <%- data.errors && data.errors.senha_error ? `class="error"` : "" %>>

            <%- data.errors && data.errors.senha_error ? `<span class='error-message'>${data.errors.senha_error.msg}</span>` : "" %>

            <input type="file" name="imagem_perfil" id="imagem_perfil" accept="image/*">

            <label for="imagem_perfil" class="imagem-perfil <%- data.errors && data.errors.imagem_perfil_error ? "error" : "" %></label>">
                <div>
                    <img src="/imagem/add-imagem.png" alt="Adicionar imagem" class="adicionar-imagem" id="preview-imagem-perfil">
                </div>

                <span>Foto de perfil (opcional)</span>
            </label>

            <%- data.errors && data.errors.imagem_perfil_error ? `<span class='error-message'>${data.errors.imagem_perfil_error.msg}</span>` : "" %>

            <label for="termos-condicoes" class="termos-condicoes <%- data.errors && data.errors.termos_condicoes_error ? "error" : "" %>"><input type="checkbox" name="termos_condicoes" id="termos-condicoes" value="1" <%- data.input_values && data.input_values.termos_condicoes === "1" ? "checked" : "" %>> Li e aceito os <a href="/termos-e-politicas">termos e condições</a></label>

            <%- data.errors && data.errors.termos_condicoes_error ? `<span class='error-message'>${data.errors.termos_condicoes_error.msg}</span>` : "" %>

            <button type="submit">Cadastre-se</button>
        </form>
    </main>

    <%- include("../templates/footer.ejs") %>
</body>